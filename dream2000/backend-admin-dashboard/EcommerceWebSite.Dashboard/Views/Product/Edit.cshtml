@model EcommerceWebSite.Dashboard.ViewModel.addOrUpdateProductViewModel;
@{ ViewData["Title"] = "Edit Product Page"; }

<form asp-action="Edit" method="post" enctype="multipart/form-data">
    <div asp-validation-summary="All" class="error"></div>
    <div class="form-group">
        <label>English Name</label>
        <input type="text" class="form-control" asp-for="enName" placeholder="Enter English Name">
        <span asp-validation-for="enName" style="color:red" class="form-text text-muted"></span>
    </div>
    <div class="form-group">
        <label>Arabic Name</label>
        <input type="text" class="form-control" asp-for="arName" placeholder="Enter Arabic Name">
        <span asp-validation-for="arName" style="color:red" class="form-text text-muted"></span>
    </div>
    <div class="form-group">
        <label>English Description</label>
        <textarea class="form-control" asp-for="EnDescription" placeholder="Enter English Description"></textarea>
        <span asp-validation-for="EnDescription" style="color:red" class="form-text text-muted"></span>
    </div>
    <div class="form-group">
        <label>Arabic Description</label>
        <textarea class="form-control" asp-for="ArDescription" placeholder="Enter Arabic Description"></textarea>
        <span asp-validation-for="ArDescription" style="color:red" class="form-text text-muted"></span>
    </div>
    <div class="form-group">
        <label>Quantity</label>
        <input type="number" class="form-control" asp-for="Quantity" placeholder="Enter Quantity">
        <span asp-validation-for="Quantity" style="color:red" class="form-text text-muted"></span>
    </div>
    <div class="form-group">
        <label>Price</label>
        <input type="number" class="form-control" asp-for="price" placeholder="Enter Price">
        <span asp-validation-for="price" style="color:red" class="form-text text-muted"></span>
    </div>

    @if (ViewData["SubCategories"] != null)
    {
        var categories = ViewData["SubCategories"] as List<SubCategory>;
        if (categories.Any())
        {
            <div class="form-group">
                <label>SubCategory Name</label>
                <select class="form-control pt-1" asp-for="SubCategoryId">
                    @foreach (var Subcat in categories)
                    {
                        <option value="@Subcat.id">@Subcat.EnName</option>
                    }
                </select>
                <span asp-validation-for="SubCategoryId" style="color:red" class="form-text text-muted"></span>
            </div>
        }
    }

    <!-- Display current image -->
    @if (!string.IsNullOrEmpty(Model.imgURL))
    {
        <div class="form-group">
            <label>Current Image</label>
            <img src="@Model.imgURL" alt="Current Image" class="img-fluid" width="100px" height="100px">
        </div>
    }

    <!-- Image upload field -->
    <div class="form-group">
        <label class="control-label">New Image</label>
        <input type="file" name="image" class="form-control-file" />
        <span asp-validation-for="imgURL" class="text-danger"></span>
    </div>
    <button type="submit" class="btn btn-primary">Edit</button>
</form>
